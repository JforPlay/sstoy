<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>의뢰 도우미</title>
    <!-- Font Awesome 6 Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/utils.css">
    <link rel="stylesheet" href="css/tasks.css">
</head>
<body>
    <!-- Navigation Bar Placeholder -->
    <div id="navbar-placeholder"></div>

    <div class="container">
        <header>
            <h1><i class="fa-solid fa-bullseye"></i> 의뢰 도우미</h1>
            <p class="subtitle">최대 4개의 의뢰를 선택하고 캐릭터로 태그를 채워보세요</p>
        </header>

        <!-- Task Selection Area -->
        <div class="tasks-section">
            <h2 class="section-title">
                <span class="section-icon"><i class="fa-solid fa-clipboard-list"></i></span>
                의뢰 선택 (최대 4개)
            </h2>
            <div id="tasks-list" class="tasks-grid"></div>
        </div>

        <!-- Selected Tasks Area -->
        <div class="selected-section">
            <h2 class="section-title">
                <span class="section-icon"><i class="fa-solid fa-check"></i></span>
                선택된 의뢰 (눌러서 캐릭터 배정)
                <span class="task-counter" id="task-counter">0/4</span>
            </h2>
            <div id="selected-tasks" class="selected-tasks-grid"></div>
        </div>

        <!-- Character Selection Area -->
        <div class="characters-section">
            <div class="characters-header">
                <h2 class="section-title">
                    <span class="section-icon"><i class="fa-solid fa-users"></i></span>
                    캐릭터 선택
                </h2>
                <div class="characters-controls">
                    <button class="control-btn manage-ownership-btn" id="manage-ownership-btn">
                        <i class="fa-solid fa-heart"></i> 소유 표시
                    </button>
                    <div class="filter-buttons">
                        <button class="filter-btn active" data-filter="all">전체</button>
                        <button class="filter-btn" data-filter="owned">소유</button>
                        <button class="filter-btn" data-filter="not-owned">미소유</button>
                    </div>
                </div>
            </div>
            <div id="characters-list" class="characters-grid"></div>
        </div>

        <!-- Ownership Modal -->
        <div class="modal ownership-modal" id="ownership-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2><i class="fa-solid fa-heart"></i> 캐릭터 소유 관리</h2>
                    <button class="close-btn" id="close-ownership-modal">&times;</button>
                </div>
                <div class="modal-controls">
                    <button class="control-btn" id="select-all-owned">
                        <i class="fa-solid fa-check-double"></i> 전체 선택
                    </button>
                    <button class="control-btn" id="deselect-all-owned">
                        <i class="fa-solid fa-xmark"></i> 전체 해제
                    </button>
                    <div class="ownership-count" id="ownership-count">소유: 0 / 0</div>
                </div>
                <div class="ownership-grid" id="ownership-grid"></div>
            </div>
        </div>

        <!-- Insights Panel -->
        <div class="insights-panel" id="insights-panel">
            <button class="insights-toggle" id="insights-toggle">
                <i class="fa-solid fa-chart-line"></i>
                <span class="toggle-text">인사이트</span>
            </button>
            <div class="insights-content" id="insights-content">
                <div class="insights-header">
                    <h3><i class="fa-solid fa-lightbulb"></i> 분석</h3>
                </div>
                <div class="insights-body" id="insights-body">
                    <!-- Insights will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <script src="js/utils.js"></script>
    <script src="js/tasks.js"></script>
</body>
</html>
